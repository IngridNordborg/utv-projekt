import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
// import java.util.Collections;
import java.util.LinkedList;
import java.util.Scanner;

public class Lab {
    public static void main(String[] args) throws Exception {
    	ListSorter listSort = new ListSorter();
    	
   
        // Parse the command-line arguments
   
        String inFile = args[1];
        String outFile = args[2];
        int N = Integer.parseInt(args[3]);
        

        // Read the input file and populate a linked list
        LinkedList<Integer> list = new LinkedList<>();
        try (Scanner scanner = new Scanner(new File(inFile))) {
            while (scanner.hasNextInt()) {
                list.add(scanner.nextInt());
            }
        
        } catch (FileNotFoundException e) {
            System.err.println("Could not open input file: " + e.getMessage());
            System.exit(1);
            
        }
        BufferedWriter writer = new BufferedWriter(new FileWriter(outFile));
        for (int i = 0; i < N; i++) {
        	LinkedList<Integer> lizt= new LinkedList<>(list);
        	long t0 = System.nanoTime();
        	//Collections.sort(lizt);
            listSort.sortLinkedList(lizt);
            long t1 = System.nanoTime();
            long time = (t1 - t0);
            String strTime = (i+1)+","+time+"\n";
            writer.write(strTime);
        }
        writer.flush();
        writer.close();        
         
    }
}
